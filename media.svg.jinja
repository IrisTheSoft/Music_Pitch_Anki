<svg version="1.1" xmlns="http://www.w3.org/2000/svg"
viewBox="-1 -18 32 36">
    <defs>
        <g id="flat" transform="translate(7,-2.125) scale(0.2)">
            <path d="M 98.166,443.657 C 98.166,444.232 97.950425,444.78273 97.359,445.52188 C 96.732435,446.30494 96.205,446.75313 95.51,447.28013 L 95.51,443.848 C 95.668,443.449 95.901,443.126 96.21,442.878 C 96.518,442.631 96.83,442.507 97.146,442.507 C 97.668,442.507 97.999,442.803 98.142,443.393 C 98.158,443.441 98.166,443.529 98.166,443.657 z M 98.091,441.257 C 97.66,441.257 97.222,441.376 96.776,441.615 C 96.33,441.853 95.908,442.172 95.51,442.569 L 95.51,435.29733 L 94.947,435.29733 L 94.947,447.75213 C 94.947,448.10413 95.043,448.28013 95.235,448.28013 C 95.346,448.28013 95.483913,448.18713 95.69,448.06413 C 96.27334,447.71598 96.636935,447.48332 97.032,447.23788 C 97.482617,446.95792 97.99,446.631 98.661,445.991 C 99.124,445.526 99.459,445.057 99.667,444.585 C 99.874,444.112 99.978,443.644 99.978,443.179 C 99.978,442.491 99.795,442.002 99.429,441.713 C 99.015,441.409 98.568,441.257 98.091,441.257 z " transform="translate(-94.947,-433.75)"/>
        </g>
        <g id="sharp" transform="translate(7,-1.45) scale(0.166)">
            <path d="M 86.102000,447.45700 L 86.102000,442.75300 L 88.102000,442.20100 L 88.102000,446.88100 L 86.102000,447.45700 z M 90.040000,446.31900 L 88.665000,446.71300 L 88.665000,442.03300 L 90.040000,441.64900 L 90.040000,439.70500 L 88.665000,440.08900 L 88.665000,435.30723 L 88.102000,435.30723 L 88.102000,440.23400 L 86.102000,440.80900 L 86.102000,436.15923 L 85.571000,436.15923 L 85.571000,440.98600 L 84.196000,441.37100 L 84.196000,443.31900 L 85.571000,442.93500 L 85.571000,447.60600 L 84.196000,447.98900 L 84.196000,449.92900 L 85.571000,449.54500 L 85.571000,454.29977 L 86.102000,454.29977 L 86.102000,449.37500 L 88.102000,448.82500 L 88.102000,453.45077 L 88.665000,453.45077 L 88.665000,448.65100 L 90.040000,448.26600 L 90.040000,446.31900 z " transform="translate(-84.19600,-436.0680)"/>
        </g>
        <g id="natural" transform="translate(7,-1.6) scale(0.03)">
            <path d="M 26.578125,106.17187 L 22.640625,107.57812 L 22.640625,75.375001 L 0,85.218751 L 0,1.6875 L 3.796875,1.4210855e-014 L 3.796875,32.765625 L 26.578125,22.359375 L 26.578125,106.17187 z M 22.640625,61.171871 L 22.640625,38.671875 L 3.796875,46.96875 L 3.796875,69.468751 L 22.640625,61.171871 z "/>
        </g>
    </defs>
    <g id="staff">
        <path d="M-1,-4 h32" stroke-width="0.25"/>
        <path d="M-1,-2 h32" stroke-width="0.25"/>
        <path d="M-1,0 h32" stroke-width="0.25"/>
        <path d="M-1,2 h32" stroke-width="0.25"/>
        <path d="M-1,4 h32" stroke-width="0.25"/>
    </g>
    {% if clef == "C" %}
    <g id="clef" transform="translate(0,-4.125) scale(0.33)">
        <path d="M 325.90302,546.76398 C 325.77565,548.73599 324.67385,550.74769 322.76364,551.48291 C 321.1258,552.0885 319.0617,552.18049 317.638,551.0277 C 316.57277,550.23951 316.16568,548.44596 317.27983,547.51996 C 318.34407,546.51189 320.39149,547.42114 320.26891,548.90426 C 320.68605,549.92222 318.52287,550.54748 319.66017,551.2611 C 320.96855,551.60188 322.30255,550.53315 322.63842,549.29104 C 323.1266,547.50862 323.10071,545.58499 322.67301,543.79274 C 322.44295,542.90899 321.89729,541.53645 320.73027,541.89426 C 319.20285,542.2489 318.34585,543.75774 317.865,545.13 C 317.58677,543.18531 316.36388,541.50362 314.958,540.192 C 314.958,544.09834 314.95801,548.00467 314.95801,551.91101 L 314.08301,551.91554 C 314.08301,543.88753 314.08301,535.6966 314.08301,527.66859 L 314.95801,527.66785 C 314.95801,531.51886 314.95801,535.529 314.95801,539.38 C 316.35227,538.08767 317.58034,536.43374 317.844,534.505 C 318.34775,535.94355 319.32246,537.53197 320.97,537.755 C 322.1809,537.82161 322.52686,536.34503 322.76844,535.42539 C 323.08591,533.68738 323.12057,531.8389 322.56968,530.14452 C 322.17561,528.95315 320.88042,527.97772 319.60389,528.29761 C 318.57267,529.04912 320.60708,529.59275 320.26318,530.5613 C 320.48284,531.95228 318.76106,533.04005 317.57439,532.3192 C 316.28904,531.61505 316.38273,529.72095 317.37337,528.80541 C 318.04771,528.10885 319.33076,527.65914 320.27066,527.66651 C 321.22932,527.67403 321.7886,527.74487 322.64672,528.04424 C 324.56799,528.72938 325.72882,530.70423 325.88682,532.67197 C 326.17716,534.90335 324.92877,537.33821 322.82569,538.21926 C 321.45806,538.74967 319.87609,538.29068 318.827,537.317 C 318.65552,538.29407 318.22016,539.2263 317.68074,539.9006 C 318.11632,540.61049 318.58743,541.75295 318.82791,542.14434 C 320.14125,540.94807 322.46143,540.80379 323.82848,541.98977 C 325.22049,543.13189 326.08868,544.95009 325.90302,546.76398 z " transform="matrix(1,0,0,1.030698,-309.364,-543.8647)"/>
        <path d="M 312.208,551.911 L 309.364,551.911 L 309.364,527.661 L 312.208,527.661 L 312.208,551.911 z " transform="matrix(1,0,0,1.030928,-309.364,-543.9805)"/>
    </g>
    {% elif clef == "F" %}
    <g id="clef" transform="translate(0,-3.75) scale(0.3)">
        <path d="M 248.25999,536.80200 C 248.26766,537.17138 248.11044,537.54065 247.82878,537.78185 C 247.46853,538.11076 246.91933,538.17813 246.47048,538.01071 C 246.02563,537.83894 245.69678,537.39883 245.67145,536.92060 C 245.63767,536.54689 245.75685,536.15479 246.02747,535.88867 C 246.28257,535.61680 246.66244,535.48397 247.03147,535.50645 C 247.41131,535.51452 247.77805,535.70601 248.00489,536.01019 C 248.17962,536.23452 248.26238,536.51954 248.25999,536.80200 z " transform="translate(-230.9546,-533.6597)"/>
        <path d="M 248.25999,542.64502 C 248.26772,543.01469 248.11076,543.38446 247.82878,543.62585 C 247.46853,543.95476 246.91933,544.02213 246.47048,543.85472 C 246.02537,543.68288 245.69655,543.24237 245.67145,542.76389 C 245.63651,542.38990 245.76354,542.00308 246.02700,541.73300 C 246.27663,541.45454 246.66060,541.32790 247.02845,541.34950 C 247.51230,541.36282 247.95159,541.69251 248.15162,542.12465 C 248.22565,542.28740 248.26043,542.46657 248.25999,542.64502 z " transform="translate(-230.9546,-533.6597)"/>
        <path d="M 243.97900,540.86798 C 244.02398,543.69258 242.76360,546.43815 240.76469,548.40449 C 238.27527,550.89277 235.01791,552.47534 231.69762,553.53261 C 231.25590,553.77182 230.58970,553.45643 231.28550,553.13144 C 232.62346,552.52289 234.01319,552.00050 235.24564,551.18080 C 237.96799,549.49750 240.26523,546.84674 240.82279,543.61854 C 241.14771,541.65352 241.05724,539.60795 240.56484,537.67852 C 240.20352,536.25993 239.22033,534.79550 237.66352,534.58587 C 236.25068,534.36961 234.74885,534.85905 233.74057,535.88093 C 233.47541,536.14967 232.95916,536.89403 233.04435,537.74747 C 233.64637,537.27468 233.60528,537.32732 234.09900,537.10717 C 235.23573,536.60031 236.74349,537.32105 237.02700,538.57272 C 237.32909,539.72295 237.09551,541.18638 235.96036,541.79960 C 234.77512,542.44413 233.02612,542.17738 232.36450,540.90866 C 231.26916,538.95418 231.87147,536.28193 233.64202,534.92571 C 235.44514,533.42924 238.07609,533.37089 240.19963,534.13862 C 242.38419,534.95111 243.68629,537.21483 243.89691,539.45694 C 243.95419,539.92492 243.97896,540.39668 243.97900,540.86798 z " transform="translate(-230.9546,-533.6597)"/>
    </g>
    {% elif clef == "G" %}
    <g id="clef" transform="translate(0,-8.125) scale(0.4)">
        <path d="m12.049 3.5296c0.305 3.1263-2.019 5.6563-4.0772 7.7014-0.9349 0.897-0.155 0.148-0.6437 0.594-0.1022-0.479-0.2986-1.731-0.2802-2.11 0.1304-2.6939 2.3198-6.5875 4.2381-8.0236 0.309 0.5767 0.563 0.6231 0.763 1.8382zm0.651 16.142c-1.232-0.906-2.85-1.144-4.3336-0.885-0.1913-1.255-0.3827-2.51-0.574-3.764 2.3506-2.329 4.9066-5.0322 5.0406-8.5394 0.059-2.232-0.276-4.6714-1.678-6.4836-1.7004 0.12823-2.8995 2.156-3.8019 3.4165-1.4889 2.6705-1.1414 5.9169-0.57 8.7965-0.8094 0.952-1.9296 1.743-2.7274 2.734-2.3561 2.308-4.4085 5.43-4.0046 8.878 0.18332 3.334 2.5894 6.434 5.8702 7.227 1.2457 0.315 2.5639 0.346 3.8241 0.099 0.2199 2.25 1.0266 4.629 0.0925 6.813-0.7007 1.598-2.7875 3.004-4.3325 2.192-0.5994-0.316-0.1137-0.051-0.478-0.252 1.0698-0.257 1.9996-1.036 2.26-1.565 0.8378-1.464-0.3998-3.639-2.1554-3.358-2.262 0.046-3.1904 3.14-1.7356 4.685 1.3468 1.52 3.833 1.312 5.4301 0.318 1.8125-1.18 2.0395-3.544 1.8325-5.562-0.07-0.678-0.403-2.67-0.444-3.387 0.697-0.249 0.209-0.059 1.193-0.449 2.66-1.053 4.357-4.259 3.594-7.122-0.318-1.469-1.044-2.914-2.302-3.792zm0.561 5.757c0.214 1.991-1.053 4.321-3.079 4.96-0.136-0.795-0.172-1.011-0.2626-1.475-0.4822-2.46-0.744-4.987-1.116-7.481 1.6246-0.168 3.4576 0.543 4.0226 2.184 0.244 0.577 0.343 1.197 0.435 1.812zm-5.1486 5.196c-2.5441 0.141-4.9995-1.595-5.6343-4.081-0.749-2.153-0.5283-4.63 0.8207-6.504 1.1151-1.702 2.6065-3.105 4.0286-4.543 0.183 1.127 0.366 2.254 0.549 3.382-2.9906 0.782-5.0046 4.725-3.215 7.451 0.5324 0.764 1.9765 2.223 2.7655 1.634-1.102-0.683-2.0033-1.859-1.8095-3.227-0.0821-1.282 1.3699-2.911 2.6513-3.198 0.4384 2.869 0.9413 6.073 1.3797 8.943-0.5054 0.1-1.0211 0.143-1.536 0.143z"/>
    </g>
    {% endif %}
    {% if signature_kind == "flat" %}
    <g id="signature">
        {% for x, y in enumerate(signature) %}
        <use href="#flat" transform="translate({{ 1.5*x }},{{ y }})"/>
        {% endfor %}
    </g>
    {% elif signature_kind == "sharp" %}
    <g id="signature">
        {% for x, y in enumerate(signature) %}
        <use href="#sharp" transform="translate({{ 1.5*x }},{{ y }})"/>
        {% endfor %}
    </g>
    {% endif %}
    <g id="ledger">
        {% for y in list(range(-6, note-1, -2)) + list(range(6, note+1, 2)) %}
        <path class="stroked" d="M 26,{{ y }} h4" stroke-width="0.25"/>
        {% endfor %}
    </g>
    <g id="accidental">
        {% if accidental != None %}
        <use href="#{{ accidental }}" transform="translate(17.5,{{ note }})"/>
        {% endif %}
    </g>
    <g id="note" transform="translate(28,{{ note }})">
        <ellipse rx="1.25" ry="0.875" transform="skewY(-15)"/>
        <path class="stroked" d="M1.1,-0.2 v{{ -6 * sign(note) }}" stroke-width="0.25"/>
    </g>
</svg>
